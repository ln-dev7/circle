# Task Operations

query GetTasks($filters: TaskFilters, $orderBy: TaskOrderBy, $options: TaskOptions) {
   tasks(filters: $filters, orderBy: $orderBy, options: $options) {
      id
      title
      description
      status
      priority
      dependencies
      details
      testStrategy
      complexity
      createdAt
      updatedAt
      subtasks {
         id
         fullId
         title
         description
         status
         dependencies
         details
         testStrategy
         createdAt
         updatedAt
      }
   }
}

query GetTask($id: Int!, $options: TaskOptions) {
   task(id: $id, options: $options) {
      id
      title
      description
      status
      priority
      dependencies
      details
      testStrategy
      complexity
      createdAt
      updatedAt
      subtasks {
         id
         fullId
         title
         description
         status
         dependencies
         details
         testStrategy
         createdAt
         updatedAt
      }
   }
}

query GetReadyTasks($limit: Float, $offset: Float) {
   readyTasks(limit: $limit, offset: $offset) {
      id
      title
      description
      status
      priority
      dependencies
      details
      testStrategy
      complexity
      createdAt
      updatedAt
      subtasks {
         id
         fullId
         title
         description
         status
         dependencies
         details
         testStrategy
         createdAt
         updatedAt
      }
   }
}

query GetTasksConnection(
   $filters: TaskFilters
   $orderBy: TaskOrderBy
   $pagination: CursorPaginationInput
) {
   tasksConnection(filters: $filters, orderBy: $orderBy, pagination: $pagination) {
      edges {
         node {
            id
            title
            description
            status
            priority
            dependencies
            details
            testStrategy
            complexity
            createdAt
            updatedAt
            subtasks {
               id
               fullId
               title
               description
               status
               dependencies
               details
               testStrategy
               createdAt
               updatedAt
            }
         }
         cursor
      }
      pageInfo {
         hasNextPage
         hasPreviousPage
         startCursor
         endCursor
      }
      totalCount
   }
}

query SearchTasks($searchText: String!, $options: TaskOptions) {
   searchTasks(searchText: $searchText, options: $options) {
      id
      title
      description
      status
      priority
      dependencies
      details
      testStrategy
      complexity
      createdAt
      updatedAt
      subtasks {
         id
         fullId
         title
         description
         status
         dependencies
         details
         testStrategy
         createdAt
         updatedAt
      }
   }
}

query GetTaskStats {
   taskStats {
      totalTasks
      totalSubtasks
      tasksByStatus {
         pending
         inProgress
         done
         cancelled
         deferred
         blocked
      }
      tasksByPriority {
         high
         medium
         low
      }
   }
}
